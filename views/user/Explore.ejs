<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Traveezy - Your Perfect Travel Plan</title>
  <meta name="description" content="Discover and plan your perfect journey with Traveezy. Explore destinations, build your itinerary, and track your adventure in real-time."/>
  <style>
    /* ==========================================================================
       1. DESIGN TOKENS
       ========================================================================== */
    :root{
      /* Colors */
      --c-brand-primary: #26C485;
      --c-brand-primary-dark: #1eb06f;
      --c-brand-secondary: #FF6B35;
      --c-brand-secondary-dark: #FF8A5B;
      --c-active: #2563eb;
      --c-bg: #f8f9fa;
      --c-surface: #fff;
      --c-text-primary: #333;
      --c-text-muted: #666;
      --c-text-subtle: #999;
      --c-border: #e8e8e8;
      --c-white: #fff;


      /* Typography */
      --font-sans: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;


      /* Spacing */
      --space-1: 4px;
      --space-2: 8px;
      --space-3: 12px;
      --space-4: 16px;
      --space-5: 20px;
      --space-6: 24px;
      --space-8: 32px;
      --space-10: 40px;


      /* Sizing */
      --max-width: 1400px;


      /* Borders */
      --radius-md: 8px;
      --radius-lg: 12px;


      /* Shadows */
      --shadow-md: 0 8px 20px rgba(0,0,0,.08);
      --shadow-lg: 0 12px 28px rgba(0,0,0,.12);
      --shadow-brand: 0 4px 12px rgba(38, 196, 133, .3);


      /* Journey Colors */
      --c-journey-trekking: #4CAF50;
      --c-journey-water: #2196F3;
      --c-journey-wildlife: #8B6F47;
      --c-journey-cultural: #FF9800;
      --c-journey-active-bg: #E0F7F4;
      --c-journey-active-border: #009688;
      --c-journey-completed: #26A69A;
      --c-journey-pending: #BDBDBD;
      /* Transitions */
      --transition-base: all 0.3s ease;
    }


    /* ==========================================================================
       2. BASE & RESET STYLES
       ========================================================================== */
    *, *::before, *::after {
      box-sizing: border-box;
    }
    html {
      scroll-behavior: smooth;
    }
    body, h1, h2, h3, p, ul, li {
      margin: 0;
      padding: 0;
    }
    body{
      font-family: var(--font-sans);
      color: var(--c-text-primary);
      background-color: var(--c-bg);
      line-height: 1.6;
    }
    img { display: block; max-width: 100%; }
    button { cursor: pointer; font-family: inherit; }
    a { text-decoration: none; color: inherit; }
    ul { list-style: none; }
    input { font-family: inherit; }


    /* Accessibility */
    .skip-link {
      position: absolute;
      top: -40px;
      left: 0;
      background: var(--c-active);
      color: white;
      padding: var(--space-2) var(--space-4);
      z-index: 100;
      transition: top 0.3s;
    }
    .skip-link:focus {
      top: 0;
    }
    :focus-visible {
      outline: 2px solid var(--c-active);
      outline-offset: 2px;
      border-radius: var(--space-1);
    }


    /* ==========================================================================
       3. LAYOUT & STRUCTURE
       ========================================================================== */
    .page-wrapper {
      max-width: var(--max-width);
      margin: 0 auto;
      padding: var(--space-8) var(--space-10);
    }
    .main-layout {
      display: flex;
      gap: var(--space-8);
    }
    .main-content {
      flex: 1;
      min-width: 0;
    }
    .sidebar {
      width: 320px;
      flex: 0 0 320px;
    }


    /* ==========================================================================
       4. COMPONENTS
       ========================================================================== */


    /* Header */
    .header {
      position: sticky; top: 0; z-index: 50;
      background-color: var(--c-surface);
      border-bottom: 1px solid var(--c-border);
      padding: var(--space-4) var(--space-10);
      display: flex;
      align-items: center;
      justify-content: space-between;
      box-shadow: 0 2px 10px rgba(0,0,0,.05);
    }
    .header__left { display: flex; align-items: center; gap: var(--space-10); }
    .header__logo {
      display: flex;
      align-items: center;
      gap: var(--space-3);
      font-weight: 700;
      font-size: 20px;
      color: #2d3748;
    }
    .header__logo-icon {
      width: 36px; height: 36px;
      border-radius: 10px;
      background: linear-gradient(135deg, var(--c-brand-secondary) 0%, var(--c-brand-secondary-dark) 100%);
      display: grid;
      place-items: center;
      color: var(--c-white);
      font-size: 20px;
      box-shadow: 0 4px 12px rgba(255,107,53,.3);
    }
    .header__nav { display: flex; gap: var(--space-1); }
    .header__nav-link {
      color: var(--c-text-muted);
      font-size: 14px;
      padding: var(--space-2) var(--space-3);
      border-radius: var(--radius-md);
      transition: var(--transition-base);
      font-weight: 500;
    }
    .header__nav-link:hover { background-color: #f0f0f0; color: var(--c-text-primary); }
    .header__nav-link--active {
      background-color: rgba(38,196,133,.1);
      color: var(--c-brand-primary);
    }
    .header__right { display: flex; align-items: center; gap: var(--space-4); }
    .header__profile {
      width: 38px; height: 38px;
      border-radius: 50%;
      background: linear-gradient(135deg, #FFB366 0%, var(--c-brand-secondary-dark) 100%);
      cursor: pointer;
      transition: var(--transition-base);
      border: none;
      padding: 0;
    }
    .header__profile:hover { transform: scale(1.05); }


    /* Search Component */
    .search-bar {
      display: flex;
      align-items: center;
      gap: var(--space-2);
      background-color: var(--c-bg);
      border: 1px solid #e0e0e0;
      border-radius: var(--radius-md);
      padding: var(--space-2) var(--space-3);
      transition: var(--transition-base);
    }
    .search-bar:focus-within {
      border-color: var(--c-brand-primary);
      box-shadow: 0 0 0 2px rgba(38,196,133,.2);
    }
    .search-bar__input {
      border: none;
      outline: none;
      background-color: transparent;
      width: 200px;
      font-size: 14px;
      color: var(--c-text-primary);
    }
    .search-bar__icon { font-size: 16px; color: #888; }


    /* Button Component */
    .btn {
      border: none;
      border-radius: var(--radius-md);
      padding: var(--space-3) var(--space-5);
      font-size: 14px;
      font-weight: 600;
      cursor: pointer;
      transition: var(--transition-base);
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: var(--space-2);
    }
    .btn--primary {
      background-color: var(--c-brand-primary);
      color: var(--c-white);
      box-shadow: var(--shadow-brand);
    }
    .btn--primary:hover {
      background-color: var(--c-brand-primary-dark);
      transform: translateY(-2px);
    }
    .btn--secondary {
      background-color: var(--c-surface);
      border: 1px solid #e0e0e0;
      color: var(--c-text-primary);
    }
    .btn--secondary:hover { border-color: var(--c-brand-primary); }


    /* Filters Panel */
    .filters-panel {
      background-color: var(--c-surface);
      border-radius: var(--radius-lg);
      padding: var(--space-6);
      margin-bottom: var(--space-8);
      border: 1px solid var(--c-border);
      box-shadow: var(--shadow-md);
    }
    .filters-panel__title {
      font-weight: 700;
      font-size: 18px;
      margin-bottom: var(--space-5);
      display: flex;
      align-items: center;
      gap: var(--space-2);
    }
    .filters-panel__grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: var(--space-4);
      margin-bottom: var(--space-5);
    }
    .filters-panel__footer {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: var(--space-4);
    }
    .filters-panel__sort {
      display: flex;
      align-items: center;
      gap: var(--space-2);
    }
    .filters-panel__sort-label { font-size: 14px; color: var(--c-text-muted); }
    .filters-panel__sort .btn--secondary { width: 160px; }


    /* Section Heading */
    .section-heading {
      font-size: 22px;
      font-weight: 700;
      margin: var(--space-5) 0 var(--space-6);
      display: flex;
      align-items: center;
      gap: var(--space-3);
    }
    .filter-item {
      display: flex;
      flex-direction: column;
      gap: var(--space-2);
    }
    .filter-item label {
      font-size: 14px;
      font-weight: 500;
      color: var(--c-text-muted);
      padding-left: var(--space-2);
    }
    .filter-item select {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3E%3Cpath stroke='%236b7280' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3E%3C/svg%3E");
      background-position: right 0.5rem center;
      background-repeat: no-repeat;
      background-size: 1.5em 1.5em;
      padding-right: 2.5rem;
      text-align: left;
    }


    /* Card Grid */
    .card-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: var(--space-6);
    }


    /* Destination Card */
    .card {
      background-color: var(--c-surface);
      border-radius: var(--radius-lg);
      border: 1px solid var(--c-border);
      overflow: hidden;
      transition: var(--transition-base);
      cursor: pointer;
      position: relative;
      display: flex;
      flex-direction: column;
    }
    .card:hover {
      transform: translateY(-6px);
      box-shadow: var(--shadow-lg);
    }
    .card[data-removed="true"] {
      opacity: 0.45;
      pointer-events: none;
    }
    .card__thumb {
      position: relative;
      height: 200px;
      overflow: hidden;
    }
    .card__image { width: 100%; height: 100%; object-fit: cover; }
    .card__close-btn {
      position: absolute;
      left: var(--space-3);
      top: var(--space-3);
      width: 30px; height: 30px;
      border-radius: 50%;
      background-color: rgba(0,0,0,.6);
      color: var(--c-white);
      display: grid;
      place-items: center;
      font-weight: 700;
      font-size: 16px;
      transition: var(--transition-base);
      opacity: 0.8;
      border: none;
      padding: 0;
    }
    .card__close-btn:hover { opacity: 1; transform: scale(1.1); }
    .card__rating {
      position: absolute;
      right: var(--space-3);
      top: var(--space-3);
      background-color: var(--c-brand-primary);
      color: var(--c-white);
      font-weight: 700;
      font-size: 13px;
      padding: 6px 12px;
      border-radius: 20px;
      display: flex;
      align-items: center;
      gap: var(--space-1);
    }
    .card__slot {
      background: linear-gradient(135deg, #f0f9ff 0%, #e1f7e9 100%);
      color: var(--c-brand-primary);
      font-weight: 700;
      font-size: 13px;
      padding: var(--space-3) var(--space-4);
      border-top: 1px solid var(--c-border);
      display: flex;
      align-items: center;
      gap: var(--space-2);
    }
    .card__body { padding: 18px 20px 20px; flex-grow: 1; display: flex; flex-direction: column; }
    .card__title { font-size: 16px; font-weight: 700; margin-bottom: var(--space-2); }
    .card__location {
      display: flex;
      align-items: center;
      gap: 6px;
      color: var(--c-text-muted);
      font-size: 13px;
      margin-bottom: var(--space-3);
    }
    .card__description {
      color: var(--c-text-muted);
      font-size: 13px;
      line-height: 1.6;
      margin-bottom: var(--space-4);
      flex-grow: 1;
    }
    .card__stats {
      display: flex;
      justify-content: space-between;
      color: var(--c-text-subtle);
      font-size: 13px;
      padding-top: var(--space-4);
      border-top: 1px solid var(--c-border);
    }
    .card__stat-item { display: flex; align-items: center; gap: var(--space-1); }


    /* Sidebar Panel */
    .sidebar-panel {
      background-color: var(--c-surface);
      border: 1px solid var(--c-border);
      border-radius: var(--radius-lg);
      padding: var(--space-6);
      padding: 32px; /* Increased padding */
      position: sticky;
      top: 90px;
      box-shadow: var(--shadow-md);
    }
    .sidebar-panel__title {
      font-weight: 700;
      font-size: 24px; /* Larger and bolder */
      margin-bottom: 32px; /* More space below */
      display: flex;
      align-items: center;
      justify-content: center; /* Center align */
      gap: var(--space-3);
    }


    /* New Journey Timeline Component */
    .journey-timeline {
      display: flex;
      flex-direction: column;
      gap: var(--space-4);
      position: relative; /* For the main timeline line */
      gap: 28px; /* Increased spacing between items */
    }
    /* The main continuous timeline line */
    .journey-item {
      display: flex;
      gap: var(--space-4);
      position: relative;
      padding-left: 44px; /* Space for dot and line */
      transition: var(--transition-base);
      cursor: pointer;
      padding-bottom: 28px; /* Match gap to ensure line connects */
    }
    .journey-item:last-child {
      padding-bottom: 0;
    }
    .journey-item:hover {
      transform: scale(1.02);
      background-color: #f9f9f9;
      border-radius: var(--radius-md);
    }


    /* Individual line segment for each item */
    .journey-item::before {
      content: '';
      position: absolute;
      left: 10px;
      top: 12px; /* Start below the dot's center */
      bottom: -28px; /* Extend to the next item's top */
      width: 4px;
      background-color: #d1d5db; /* Default gray for upcoming */
      z-index: 0;
    }
    .journey-item:last-child::before {
      display: none; /* No line after the last item */
    }
    .journey-item__dot {
      position: absolute;
      left: 0;
      top: 2px; /* Align with title */
      width: 22px; height: 22px;
      border-radius: 50%;
      background-color: #d1d5db; /* Upcoming color */
      border: 3px solid var(--c-white);
      box-shadow: 0 0 0 2px #d1d5db;
      z-index: 2;
      transition: var(--transition-base);
    }
    .journey-item:hover .journey-item__dot { transform: scale(1.15); }
    .journey-item--completed .journey-item__dot {
      background-color: #22c55e; /* Completed color */
      box-shadow: 0 0 0 2px #22c55e;
    }
    .journey-item--completed::before {
      background-color: #22c55e; /* Green line for completed items */
    }
    .journey-item--active .journey-item__dot {
      background-color: #3b82f6; /* Current color */
      box-shadow: 0 0 0 2px #3b82f6;
    }
    @keyframes pulse {
      0%, 100% { box-shadow: 0 0 0 2px #3b82f6; }
      50% { box-shadow: 0 0 0 8px rgba(59, 130, 246, 0.4); }
    }
    .journey-item--active .journey-item__dot { animation: pulse 2s infinite; }


    .journey-item__content { width: 100%; }
    .journey-item__header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: var(--space-1);
    }
    .journey-item__time {
      font-size: 14px; /* Smaller, subtle time */
      font-weight: 500;
      color: var(--c-text-muted);
    }
    .journey-item__duration {
      font-size: 14px;
      font-weight: 400;
      color: var(--c-text-subtle);
    }
    .journey-item__title {
      font-size: 20px; /* Larger, bolder location */
      font-weight: 600;
      color: var(--c-text-primary);
      margin-bottom: var(--space-1);
      display: flex;
      align-items: center;
      gap: var(--space-2);
    }
    .journey-item--active .journey-item__title {
      color: #3b82f6; /* Current location highlight */
    }
    .journey-item__description {
      font-size: 14px;
      color: var(--c-text-muted);
      line-height: 1.5;
    }


    /* Footer */
    .footer {
      background-color: var(--c-surface);
      border-top: 1px solid var(--c-border);
      margin-top: 60px;
    }
    .footer__inner {
      max-width: var(--max-width);
      margin: 0 auto;
      padding: 50px var(--space-10);
    }
    .footer__grid {
      display: grid;
      grid-template-columns: 1.2fr 1fr 1fr 1fr 1fr;
      gap: var(--space-10);
    }
    .footer__brand-info .brand-row {
      display: flex;
      align-items: center;
      gap: var(--space-3);
      margin-bottom: var(--space-4);
    }
    .footer__brand-info .brand-row .logo-icon { width: 40px; height: 40px; }
    .footer__brand-info .brand-row strong { font-size: 22px; }
    .footer__brand-info p { color: var(--c-text-muted); font-size: 14px; margin-bottom: var(--space-4); }
    .footer__socials { display: flex; gap: var(--space-3); }
    .footer__social-link {
      width: 34px; height: 34px;
      border-radius: var(--radius-md);
      background-color: #f0f0f0;
      display: grid;
      place-items: center;
      color: var(--c-text-muted);
      font-size: 16px;
      transition: var(--transition-base);
    }
    .footer__social-link:hover {
      background-color: var(--c-brand-primary);
      color: var(--c-white);
      transform: translateY(-2px);
    }
    .footer__column h3 { font-size: 16px; font-weight: 700; margin: 0 0 var(--space-4); }
    .footer__column li { margin: 0 0 var(--space-3); }
    .footer__column a { color: var(--c-text-muted); font-size: 14px; transition: var(--transition-base); }
    .footer__column a:hover { color: var(--c-text-primary); padding-left: var(--space-1); }
    .footer__bottom {
      margin-top: var(--space-8);
      padding-top: var(--space-5);
      border-top: 1px solid var(--c-border);
      color: var(--c-text-subtle);
      font-size: 13px;
      text-align: center;
    }


    /* ==========================================================================
       5. RESPONSIVE STYLES
       ========================================================================== */
    @media (max-width: 1200px) {
      .card-grid { grid-template-columns: repeat(2, 1fr); }
      .sidebar { display: none; }
      .main-layout { gap: 0; }
      .footer__grid { grid-template-columns: 1.5fr 1fr 1fr; }
    }


    @media (max-width: 768px) {
      .header { padding: var(--space-4) var(--space-5); }
      .header__left { gap: var(--space-5); }
      .header__nav { display: none; } /* Example: hide for a burger menu */
      .page-wrapper { padding: var(--space-5); }
      .filters-panel__grid { grid-template-columns: repeat(2, 1fr); }
      .card-grid { grid-template-columns: 1fr; }
      .footer__grid { grid-template-columns: 1fr 1fr; }
      .filters-panel__footer { flex-direction: column; align-items: flex-start; }
      .filters-panel__sort { width: 100%; justify-content: space-between; }
    }


    @media (max-width: 520px) {
      .filters-panel__grid { grid-template-columns: 1fr; }
      .footer__grid { grid-template-columns: 1fr; }
      .search-bar__input { width: 150px; }
      .header__right { gap: var(--space-3); }
      .journey-item__dot {
        width: 18px; height: 18px;
      }
      .journey-timeline::before, .journey-timeline__completed-line {
        left: 8px;
      }
      .journey-item {
        padding-left: 36px;
      }
    }
  </style>
</head>
<body>
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <!-- ========================================================================
     HEADER
     ======================================================================== -->
  <header class="header" role="banner">
    <div class="header__left">
      <a href="/" class="header__logo" aria-label="Traveezy Homepage">
        <div class="header__logo-icon" aria-hidden="true">üß≠</div>
        <span>Traveezy</span>
      </a>
      <nav class="header__nav" role="navigation" aria-label="Main Navigation">
        <a href="#" class="header__nav-link header__nav-link--active">Home</a>
        <a href="#" class="header__nav-link">Explore</a>
        <a href="#" class="header__nav-link">Map</a>
        <a href="#" class="header__nav-link">Booking</a>
        <a href="#" class="header__nav-link">Support</a>
      </nav>
    </div>
    <div class="header__right">
      <button class="btn btn--primary" data-action="toggle-filters">Filters</button>
      <label class="search-bar" role="search">
        <span class="search-bar__icon" aria-hidden="true">üîç</span>
        <input class="search-bar__input" type="search" placeholder="Search destinations..." aria-label="Search destinations" />
      </label>
      <button class="header__profile" aria-label="User Profile"></button>
    </div>
  </header>

  <!-- ========================================================================
     MAIN CONTENT
     ======================================================================== -->
  <main id="main-content" class="page-wrapper">
    <div class="main-layout">
      <!-- Primary Content Area -->
      <div class="main-content">
        <!-- Filters -->
        <section class="filters-panel" aria-labelledby="filters-title">
          <h2 id="filters-title" class="filters-panel__title">‚öôÔ∏è Filters</h2>
        <div class="filters-panel__grid">
          <div class="filter-item">
            <label for="filter-category">Category</label>
            <select id="filter-category" class="btn btn--secondary" style="width: 100%;">
              <option value="">All</option>
              <option value="Nature">Nature</option>
              <option value="Beach">Beach</option>
              <option value="Adventure">Adventure</option>
              <option value="Cultural">Cultural</option>
            </select>
          </div>

  <div class="filter-item">
    <label>Activity</label>
    <select id="filter-activity" class="btn btn--secondary" style="width: 100%;">
      <option value="">All</option>
      <option value="Easy">Easy</option>
      <option value="Moderate">Moderate</option>
      <option value="Hard">Hard</option>
    </select>
  </div>

  <div class="filter-item">
    <label>Time Range</label>
    <select id="filter-time" class="btn btn--secondary" style="width: 100%;">
      <option value="">Anytime</option>
      <option value="Morning">Morning</option>
      <option value="Afternoon">Afternoon</option>
      <option value="Evening">Evening</option>
    </select>
  </div>

  <div class="filter-item">
    <label>Distance</label>
    <select id="filter-distance" class="btn btn--secondary" style="width: 100%;">
      <option value="">All</option>
      <option value="10">Within 10 km</option>
      <option value="50">Within 50 km</option>
      <option value="100">Within 100 km</option>
    </select>
  </div>
</div>

          <div class="filters-panel__footer">
            <button class="btn btn--primary" data-action="apply-filters">Apply Filters</button>
            <div class="filters-panel__sort" style="margin-left: auto;">
              <label for="sort-by" class="filters-panel__sort-label">Sort By:</label>
              <button id="sort-by" class="btn btn--secondary" data-filter="sort">
                <span>Recommended</span><span style="margin-left: auto;">‚ñº</span>
              </button>
            </div>
          </div>
        </section>

        <!-- Destinations Section -->
        <section aria-labelledby="stops-heading">
          <h2 id="stops-heading" class="section-heading">üìç <%= places.length %> Stops Planned</h2>
          <div class="card-grid" id="card-grid-container">
            <!-- Render cards dynamically with EJS -->
            <% if (places && places.length > 0) { %>
              <% places.forEach((place, index) => { %>
                <article class="card" data-place-name="<%= place.name %>" role="button" tabindex="0" aria-label="View details for <%= place.name %>">
                  <div class="card__thumb">
                    <button class="card__close-btn" data-action="remove-card" title="Remove <%= place.name %>" aria-label="Remove <%= place.name %>">√ó</button>
                    <div class="card__rating" aria-label="Rating: <%= place.rating %> out of 5 stars">‚≠ê <%= place.rating %></div>
<img class="card__image" 
     src="<%= place.image || 'https://via.placeholder.com/400x250?text=' + encodeURIComponent(place.name) %>" 
     alt="A scenic view of <%= place.name %>">
                  </div>
                  <div class="card__slot" aria-label="Scheduled time: <%= place.time %>">üïê <%= place.time %></div>
                  <div class="card__body">
                    <h3 class="card__title"><%= place.name %></h3>
                    <div class="card__location">üìç <span><%= place.loc %></span></div>
                    <p class="card__description"><%= place.desc %></p>
                    <div class="card__stats">
                      <span class="card__stat-item" aria-label="<%= place.reviews %> reviews">üìù <%= place.reviews %> reviews</span>
                      <span class="card__stat-item" aria-label="Distance: <%= place.dist %>">üó∫Ô∏è <%= place.dist %></span>
                    </div>
                  </div>
                </article>
              <% }); %>
            <% } else { %>
              <p>No destinations found. Try adjusting your filters.</p>
            <% } %>
          </div>
        </section>
      </div>

      <!-- Sidebar -->
      <aside class="sidebar" aria-label="Journey Timeline">
        <div class="sidebar-panel">
          <h2 class="sidebar-panel__title">üó∫Ô∏è Journey Tracking</h2>
          <div class="journey-timeline" id="timeline-container">
            <!-- Render timeline items dynamically with EJS -->
            <% if (places && places.length > 0) { %>
              <% places.forEach((place) => { %>
                <div class="journey-item journey-item--<%= place.status %>" data-status="<%= place.status %>"   id="journey-item-<%= (place.name || place.title || 'unknown').replace(/\s+/g, '-') %>">
                  <div class="journey-item__dot"></div>
                  <div class="journey-item__content">
                    <div class="journey-item__header">
                      <div class="journey-item__time"><%= place.time %></div>
                      <div class="journey-item__duration"><%= place.dur %></div>
                    </div>
                    <h3 class="journey-item__title"><%= place.icon %> <%= place.name %></h3>
                    <p class="journey-item__description"><%= place.desc %></p>
                  </div>
                </div>
              <% }); %>
            <% } else { %>
              <p>Your itinerary is empty.</p>
            <% } %>
          </div>
        </div>
      </aside>
    </div>
  </main>

  <!-- ========================================================================
     FOOTER
     ======================================================================== -->
  <footer class="footer" role="contentinfo">
    <div class="footer__inner">
      <div class="footer__grid">
        <div class="footer__brand-info">
          <div class="brand-row">
            <div class="header__logo-icon">üß≠</div>
            <strong>Traveezy</strong>
          </div>
          <p>Explore, Plan, Discover. Your adventure starts here.</p>
          <div class="footer__socials">
            <a href="#" class="footer__social-link" aria-label="Facebook">f</a>
            <a href="#" class="footer__social-link" aria-label="Twitter">ùïè</a>
            <a href="#" class="footer__social-link" aria-label="Instagram">üì∑</a>
            <a href="#" class="footer__social-link" aria-label="LinkedIn">in</a>
          </div>
        </div>

        <div class="footer__column">
          <h3>Discover</h3>
          <ul>
            <li><a href="#">Destinations</a></li>
            <li><a href="#">Experiences</a></li>
            <li><a href="#">Tours</a></li>
            <li><a href="#">Guides</a></li>
          </ul>
        </div>

        <div class="footer__column">
          <h3>Plan</h3>
          <ul>
            <li><a href="#">Create Itinerary</a></li>
            <li><a href="#">Booking</a></li>
            <li><a href="#">Calendar</a></li>
            <li><a href="#">Reminders</a></li>
          </ul>
        </div>

        <div class="footer__column">
          <h3>Support</h3>
          <ul>
            <li><a href="#">FAQ</a></li>
            <li><a href="#">Contact Us</a></li>
            <li><a href="#">Help Center</a></li>
            <li><a href="#">Accessibility</a></li>
          </ul>
        </div>

        <div class="footer__column">
          <h3>Company</h3>
          <ul>
            <li><a href="#">About Us</a></li>
            <li><a href="#">Careers</a></li>
            <li><a href="#">Partnerships</a></li>
            <li><a href="#">Press</a></li>
          </ul>
        </div>
      </div>

      <div class="footer__bottom">
        &copy; <span id="current-year"><%= new Date().getFullYear() %></span> Traveezy Inc. All rights reserved.
      </div>
    </div>
  </footer>

  <script>
    /**
     * =========================================================================
     * Traveezy Itinerary Planner - EJS Version
     * =========================================================================
     */

     async function fetchTripPlan() {
  const query = document.getElementById("search-input").value;
  const res = await fetch(`/user/ai-trip?q=${encodeURIComponent(query)}`);
  const data = await res.json();
  console.log(data);
}

    // Event handlers
    document.addEventListener('DOMContentLoaded', () => {
      const handleCardClose = (closeButton) => {
        const card = closeButton.closest('.card');
        if (card) {
          card.setAttribute('data-removed', 'true');
          console.log(`Card for "${card.dataset.placeName}" removed.`);
        }
      };

      const handleFilterClick = (filterButton) => {
        const filterType = filterButton.dataset.filter;
        alert(`Filter option clicked: ${filterType}. Modal functionality to be implemented.`);
      };

      const handleCardClick = (card) => {
        const placeName = card.dataset.placeName;
        alert(`Viewing details for: ${placeName}. Modal functionality to be implemented.`);
      };

      // Event delegation
      document.body.addEventListener('click', (event) => {
        const target = event.target;

        // Card close button
        const closeButton = target.closest('[data-action="remove-card"]');
        if (closeButton) {
          event.stopPropagation();
          handleCardClose(closeButton);
          return;
        }

        // Card click
        const card = target.closest('.card');
        if (card && card.dataset.removed !== 'true') {
          handleCardClick(card);
          return;
        }

        // Filter button
        const filterButton = target.closest('[data-filter]');
        if (filterButton) {
          handleFilterClick(filterButton);
          return;
        }

        // Action buttons
        const actionButton = target.closest('[data-action]');
        if (actionButton) {
          const action = actionButton.dataset.action;
          if (action === 'apply-filters') {
            alert('Applying filters...');
          }
        }
      });

      // Keyboard accessibility
      document.body.addEventListener('keydown', (event) => {
        if (event.key === 'Enter' || event.key === ' ') {
          const card = event.target.closest('.card');
          if (card && card.dataset.removed !== 'true') {
            event.preventDefault();
            handleCardClick(card);
          }
        }
      });

      console.log('Traveezy Itinerary Planner initialized successfully.');
    });
  </script>
</body>
</html>